{"remainingRequest":"E:\\Webstorm_program\\Echarts-Vue\\Day03\\Echarts-Vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Webstorm_program\\Echarts-Vue\\Day03\\Echarts-Vue\\src\\views\\ScreenPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Webstorm_program\\Echarts-Vue\\Day03\\Echarts-Vue\\src\\views\\ScreenPage.vue","mtime":1614924126309},{"path":"E:\\Webstorm_program\\Echarts-Vue\\Day03\\Echarts-Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Webstorm_program\\Echarts-Vue\\Day03\\Echarts-Vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Webstorm_program\\Echarts-Vue\\Day03\\Echarts-Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Webstorm_program\\Echarts-Vue\\Day03\\Echarts-Vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIb3QgZnJvbSAnQC9jb21wb25lbnRzL0hvdC52dWUnCmltcG9ydCBNYXAgZnJvbSAnQC9jb21wb25lbnRzL01hcC52dWUnCmltcG9ydCBSYW5rIGZyb20gJ0AvY29tcG9uZW50cy9SYW5rLnZ1ZScKaW1wb3J0IFNlbGxlciBmcm9tICdAL2NvbXBvbmVudHMvU2VsbGVyLnZ1ZScKaW1wb3J0IFN0b2NrIGZyb20gJ0AvY29tcG9uZW50cy9TdG9jay52dWUnCmltcG9ydCBUcmVuZCBmcm9tICdAL2NvbXBvbmVudHMvVHJlbmQudnVlJwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnCmltcG9ydCB7IGdldFRoZW1lVmFsdWUgfSBmcm9tICdAL3V0aWxzL3RoZW1lX3V0aWxzJwpleHBvcnQgZGVmYXVsdCB7CiAgY3JlYXRlZCAoKSB7CiAgICAvLyDms6jlhozmjqXmlLbliLDmlbDmja7nmoTlm57osIPlh73mlbAKICAgIHRoaXMuJHNvY2tldC5yZWdpc3RlckNhbGxCYWNrKCdmdWxsU2NyZWVuJywgdGhpcy5yZWN2RGF0YSkKICAgIHRoaXMuJHNvY2tldC5yZWdpc3RlckNhbGxCYWNrKCd0aGVtZUNoYW5nZScsIHRoaXMucmVjdlRoZW1lQ2hhbmdlKQogIH0sCiAgZGVzdHJveWVkICgpIHsKICAgIHRoaXMuJHNvY2tldC51blJlZ2lzdGVyQ2FsbEJhY2soJ2Z1bGxTY3JlZW4nKQogICAgdGhpcy4kc29ja2V0LnVuUmVnaXN0ZXJDYWxsQmFjaygndGhlbWVDaGFuZ2UnKQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDlrprkuYnmr4/kuIDkuKrlm77ooajnmoTlhajlsY/nirbmgIEKICAgICAgZnVsbFNjcmVlblN0YXR1czogewogICAgICAgIHRyZW5kOiBmYWxzZSwKICAgICAgICBzZWxsZXI6IGZhbHNlLAogICAgICAgIG1hcDogZmFsc2UsCiAgICAgICAgcmFuazogZmFsc2UsCiAgICAgICAgaG90OiBmYWxzZSwKICAgICAgICBzdG9jazogZmFsc2UKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlU2l6ZSAoY2hhcnROYW1lKSB7CiAgICAgIC8vIDEu5pS55Y+YZnVsbFNjcmVlblN0YXR1c+eahOaVsOaNrgogICAgICAvLyB0aGlzLmZ1bGxTY3JlZW5TdGF0dXNbY2hhcnROYW1lXSA9ICF0aGlzLmZ1bGxTY3JlZW5TdGF0dXNbY2hhcnROYW1lXQogICAgICAvLyAyLumcgOimgeiwg+eUqOavj+S4gOS4quWbvuihqOe7hOS7tueahHNjcmVlbkFkYXB0ZXLnmoTmlrnms5UKICAgICAgLy8gdGhpcy4kcmVmc1tjaGFydE5hbWVdLnNjcmVlbkFkYXB0ZXIoKQogICAgICAvLyB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIC8vICAgdGhpcy4kcmVmc1tjaGFydE5hbWVdLnNjcmVlbkFkYXB0ZXIoKQogICAgICAvLyB9KQogICAgICAvLyDlsIbmlbDmja7lj5HpgIHnu5nmnI3liqHnq68KICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSAhdGhpcy5mdWxsU2NyZWVuU3RhdHVzW2NoYXJ0TmFtZV0KICAgICAgdGhpcy4kc29ja2V0LnNlbmQoewogICAgICAgIGFjdGlvbjogJ2Z1bGxTY3JlZW4nLAogICAgICAgIHNvY2tldFR5cGU6ICdmdWxsU2NyZWVuJywKICAgICAgICBjaGFydE5hbWU6IGNoYXJ0TmFtZSwKICAgICAgICB2YWx1ZTogdGFyZ2V0VmFsdWUKICAgICAgfSkKICAgIH0sCiAgICAvLyDmjqXmlLbliLDlhajlsY/mlbDmja7kuYvlkI7nmoTlpITnkIYKICAgIHJlY3ZEYXRhIChkYXRhKSB7CiAgICAgIC8vIOWPluWHuuaYr+WTquS4gOS4quWbvuihqOmcgOimgei/m+ihjOWIh+aNogogICAgICBjb25zdCBjaGFydE5hbWUgPSBkYXRhLmNoYXJ0TmFtZQogICAgICAvLyDlj5blh7osIOWIh+aNouaIkOS7gOS5iOeKtuaAgQogICAgICBjb25zdCB0YXJnZXRWYWx1ZSA9IGRhdGEudmFsdWUKICAgICAgdGhpcy5mdWxsU2NyZWVuU3RhdHVzW2NoYXJ0TmFtZV0gPSB0YXJnZXRWYWx1ZQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmc1tjaGFydE5hbWVdLnNjcmVlbkFkYXB0ZXIoKQogICAgICB9KQogICAgfSwKICAgIGhhbmRsZUNoYW5nZVRoZW1lICgpIHsKICAgICAgLy8g5L+u5pS5VnVlWOS4reaVsOaNrgogICAgICAvLyB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZVRoZW1lJykKICAgICAgdGhpcy4kc29ja2V0LnNlbmQoewogICAgICAgIGFjdGlvbjogJ3RoZW1lQ2hhbmdlJywKICAgICAgICBzb2NrZXRUeXBlOiAndGhlbWVDaGFuZ2UnLAogICAgICAgIGNoYXJ0TmFtZTogJycsCiAgICAgICAgdmFsdWU6ICcnCiAgICAgIH0pCiAgICB9LAogICAgcmVjdlRoZW1lQ2hhbmdlICgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VUaGVtZScpCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBIb3QsCiAgICBNYXAsCiAgICBSYW5rLAogICAgU2VsbGVyLAogICAgU3RvY2ssCiAgICBUcmVuZAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxvZ29TcmMgKCkgewogICAgICByZXR1cm4gJy9zdGF0aWMvaW1nLycgKyBnZXRUaGVtZVZhbHVlKHRoaXMudGhlbWUpLmxvZ29TcmMKICAgIH0sCiAgICBoZWFkZXJTcmMgKCkgewogICAgICByZXR1cm4gJy9zdGF0aWMvaW1nLycgKyBnZXRUaGVtZVZhbHVlKHRoaXMudGhlbWUpLmhlYWRlckJvcmRlclNyYwogICAgfSwKICAgIHRoZW1lU3JjICgpIHsKICAgICAgcmV0dXJuICcvc3RhdGljL2ltZy8nICsgZ2V0VGhlbWVWYWx1ZSh0aGlzLnRoZW1lKS50aGVtZVNyYwogICAgfSwKICAgIGNvbnRhaW5lclN0eWxlICgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGdldFRoZW1lVmFsdWUodGhpcy50aGVtZSkuYmFja2dyb3VuZENvbG9yLAogICAgICAgIGNvbG9yOiBnZXRUaGVtZVZhbHVlKHRoaXMudGhlbWUpLnRpdGxlQ29sb3IKICAgICAgfQogICAgfSwKICAgIC4uLm1hcFN0YXRlKFsndGhlbWUnXSkKICB9Cn0K"},{"version":3,"sources":["ScreenPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ScreenPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"screen-container\" :style=\"containerStyle\">\n    <header class=\"screen-header\">\n      <div>\n        <img :src=\"headerSrc\" alt=\"\">\n      </div>\n      <span class=\"logo\">\n        <img :src=\"logoSrc\" alt=\"\" />\n      </span>\n      <span class=\"title\">电商平台实时监控系统</span>\n      <div class=\"title-right\">\n        <img :src=\"themeSrc\" class=\"qiehuan\" @click=\"handleChangeTheme\">\n        <span class=\"datetime\">2021-03-05 00:00:00</span>\n      </div>\n    </header>\n    <div class=\"screen-body\">\n      <section class=\"screen-left\">\n        <div id=\"left-top\" :class=\"[fullScreenStatus.trend ? 'fullscreen' : '']\">\n          <!-- 销量趋势图表 -->\n          <Trend ref=\"trend\"></Trend>\n          <div class=\"resize\">\n            <!-- icon-compress-alt -->\n            <span @click=\"changeSize('trend')\" :class=\"['iconfont', fullScreenStatus.trend ? 'icon-compress-alt' : 'icon-expand-alt']\"></span>\n          </div>\n        </div>\n        <div id=\"left-bottom\" :class=\"[fullScreenStatus.seller ? 'fullscreen' : '']\">\n          <!-- 商家销售金额图表 -->\n          <Seller ref=\"seller\"></Seller>\n          <div class=\"resize\">\n            <!-- icon-compress-alt -->\n            <span @click=\"changeSize('seller')\"  :class=\"['iconfont', fullScreenStatus.seller ? 'icon-compress-alt' : 'icon-expand-alt']\"></span>\n          </div>\n        </div>\n      </section>\n      <section class=\"screen-middle\">\n        <div id=\"middle-top\" :class=\"[fullScreenStatus.map ? 'fullscreen' : '']\">\n          <!-- 商家分布图表 -->\n          <Map ref=\"map\"></Map>\n          <div class=\"resize\">\n            <!-- icon-compress-alt -->\n            <span @click=\"changeSize('map')\"  :class=\"['iconfont', fullScreenStatus.map ? 'icon-compress-alt' : 'icon-expand-alt']\"></span>\n          </div>\n        </div>\n        <div id=\"middle-bottom\" :class=\"[fullScreenStatus.rank ? 'fullscreen' : '']\">\n          <!-- 地区销量排行图表 -->\n          <Rank ref=\"rank\"></Rank>\n          <div class=\"resize\">\n            <!-- icon-compress-alt -->\n            <span @click=\"changeSize('rank')\"  :class=\"['iconfont', fullScreenStatus.rank ? 'icon-compress-alt' : 'icon-expand-alt']\"></span>\n          </div>\n        </div>\n      </section>\n      <section class=\"screen-right\">\n        <div id=\"right-top\" :class=\"[fullScreenStatus.hot ? 'fullscreen' : '']\">\n          <!-- 热销商品占比图表 -->\n          <Hot ref=\"hot\"></Hot>\n          <div class=\"resize\">\n            <!-- icon-compress-alt -->\n            <span @click=\"changeSize('hot')\"  :class=\"['iconfont', fullScreenStatus.hot ? 'icon-compress-alt' : 'icon-expand-alt']\"></span>\n          </div>\n        </div>\n        <div id=\"right-bottom\" :class=\"[fullScreenStatus.stock ? 'fullscreen' : '']\">\n          <!-- 库存销量分析图表 -->\n          <Stock ref=\"stock\"></Stock>\n          <div class=\"resize\">\n            <!-- icon-compress-alt -->\n            <span @click=\"changeSize('stock')\"  :class=\"['iconfont', fullScreenStatus.stock ? 'icon-compress-alt' : 'icon-expand-alt']\"></span>\n          </div>\n        </div>\n      </section>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Hot from '@/components/Hot.vue'\nimport Map from '@/components/Map.vue'\nimport Rank from '@/components/Rank.vue'\nimport Seller from '@/components/Seller.vue'\nimport Stock from '@/components/Stock.vue'\nimport Trend from '@/components/Trend.vue'\nimport { mapState } from 'vuex'\nimport { getThemeValue } from '@/utils/theme_utils'\nexport default {\n  created () {\n    // 注册接收到数据的回调函数\n    this.$socket.registerCallBack('fullScreen', this.recvData)\n    this.$socket.registerCallBack('themeChange', this.recvThemeChange)\n  },\n  destroyed () {\n    this.$socket.unRegisterCallBack('fullScreen')\n    this.$socket.unRegisterCallBack('themeChange')\n  },\n  data () {\n    return {\n      // 定义每一个图表的全屏状态\n      fullScreenStatus: {\n        trend: false,\n        seller: false,\n        map: false,\n        rank: false,\n        hot: false,\n        stock: false\n      }\n    }\n  },\n  methods: {\n    changeSize (chartName) {\n      // 1.改变fullScreenStatus的数据\n      // this.fullScreenStatus[chartName] = !this.fullScreenStatus[chartName]\n      // 2.需要调用每一个图表组件的screenAdapter的方法\n      // this.$refs[chartName].screenAdapter()\n      // this.$nextTick(() => {\n      //   this.$refs[chartName].screenAdapter()\n      // })\n      // 将数据发送给服务端\n      const targetValue = !this.fullScreenStatus[chartName]\n      this.$socket.send({\n        action: 'fullScreen',\n        socketType: 'fullScreen',\n        chartName: chartName,\n        value: targetValue\n      })\n    },\n    // 接收到全屏数据之后的处理\n    recvData (data) {\n      // 取出是哪一个图表需要进行切换\n      const chartName = data.chartName\n      // 取出, 切换成什么状态\n      const targetValue = data.value\n      this.fullScreenStatus[chartName] = targetValue\n      this.$nextTick(() => {\n        this.$refs[chartName].screenAdapter()\n      })\n    },\n    handleChangeTheme () {\n      // 修改VueX中数据\n      // this.$store.commit('changeTheme')\n      this.$socket.send({\n        action: 'themeChange',\n        socketType: 'themeChange',\n        chartName: '',\n        value: ''\n      })\n    },\n    recvThemeChange () {\n      this.$store.commit('changeTheme')\n    }\n  },\n  components: {\n    Hot,\n    Map,\n    Rank,\n    Seller,\n    Stock,\n    Trend\n  },\n  computed: {\n    logoSrc () {\n      return '/static/img/' + getThemeValue(this.theme).logoSrc\n    },\n    headerSrc () {\n      return '/static/img/' + getThemeValue(this.theme).headerBorderSrc\n    },\n    themeSrc () {\n      return '/static/img/' + getThemeValue(this.theme).themeSrc\n    },\n    containerStyle () {\n      return {\n        backgroundColor: getThemeValue(this.theme).backgroundColor,\n        color: getThemeValue(this.theme).titleColor\n      }\n    },\n    ...mapState(['theme'])\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n// 全屏样式的定义\n.fullscreen {\n  position: fixed!important;\n  top: 0 !important;\n  left: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n  margin: 0 !important;\n  z-index: 100;\n}\n\n.screen-container {\n  width: 100%;\n  height: 100%;\n  padding: 0 20px;\n  background-color: #161522;\n  color: #fff;\n  box-sizing: border-box;\n}\n.screen-header {\n  width: 100%;\n  height: 64px;\n  font-size: 20px;\n  position: relative;\n  > div {\n      img {\n        width: 100%;\n      }\n    }\n  .title {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    font-size: 20px;\n    transform: translate(-50%, -50%);\n  }\n  .title-right {\n    display: flex;\n    align-items: center;\n    position:absolute;\n    right: 0px;\n    top: 50%;\n    transform: translateY(-80%);\n  }\n  .qiehuan {\n    width: 28px;\n    height: 21px;\n    cursor: pointer;\n  }\n  .datetime {\n    font-size: 15px;\n    margin-left: 10px;\n  }\n  .logo {\n    position: absolute;\n    left: 0px;\n    top: 50%;\n    transform: translateY(-80%);\n    img {\n      height: 35px;\n      width: 128px;\n    }\n  }\n}\n.screen-body {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  margin-top: 10px;\n  .screen-left {\n    height: 100%;\n    width: 27.6%;\n    #left-top {\n      height: 53%;\n      position: relative;\n    }\n    #left-bottom {\n      height: 31%;\n      margin-top: 25px;\n      position: relative;\n    }\n  }\n  .screen-middle {\n    height: 100%;\n    width: 41.5%;\n    margin-left: 1.6%;\n    margin-right: 1.6%;\n    #middle-top {\n      width: 100%;\n      height: 56%;\n      position: relative;\n    }\n    #middle-bottom {\n      margin-top: 25px;\n      width: 100%;\n      height: 28%;\n      position: relative;\n    }\n  }\n  .screen-right {\n    height: 100%;\n    width: 27.6%;\n    #right-top {\n      height: 46%;\n      position: relative;\n    }\n    #right-bottom {\n      height: 38%;\n      margin-top: 25px;\n      position: relative;\n    }\n  }\n}\n.resize {\n  position: absolute;\n  right: 20px;\n  top: 20px;\n  cursor: pointer;\n}\n</style>\n"]}]}